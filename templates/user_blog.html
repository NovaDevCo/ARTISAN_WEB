{% extends "base.html" %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='user_blog.css') }}" />
{% endblock %}



{% block content %}
<h2>{{ user.username }}'s Blog</h2>
{% for post in posts %}
  <div class="card mb-3">
    <div class="card-body">
      <h4>{{ post.title }}</h4>
      <p>{{ post.description }}</p>

      {% if post.media_url %}
        {% if post.media_url.endswith(('.jpg', '.jpeg', '.png', '.gif')) %}
          <img src="{{ url_for('static', filename=post.media_url) }}" class="img-fluid"/>
        {% elif post.media_url.endswith(('.mp4', '.mov', '.avi', '.webm')) %}
          <video controls class="w-100">
            <source src="{{ url_for('static', filename=post.media_url) }}">
            Your browser does not support the video tag.
          </video>
        {% endif %}
      {% endif %}

      <small>Posted on {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</small>
    </div>
  </div>
{% endfor %}
{% endblock %}
